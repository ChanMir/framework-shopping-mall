<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>장바구니</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body>

<div class="container mt-4">

    <h2 class="text-center mb-4">장바구니</h2>

    <div th:if="${#lists.isEmpty(cartItems)}" class="alert alert-warning text-center">
        장바구니가 비어 있습니다.
    </div>

    <table class="table" th:if="${!#lists.isEmpty(cartItems)}">
        <thead>
        <tr>
            <th>이미지</th>
            <th>상품명</th>
            <th>수량</th>
            <th>가격</th>
            <th>삭제</th>
        </tr>
        </thead>

        <tbody>
        <tr th:each="cart : ${cartItems}">
            <td width="120">
                <img th:src="@{|/img/${cart.product.imageUrl}|}" class="img-fluid rounded">
            </td>
            <td th:text="${cart.product.name}"></td>
            <td th:text="${cart.quantity}"></td>
            <td th:text="|${cart.product.price * cart.quantity}원|"></td>

            <td>
                <a th:href="@{'/cart/remove/' + ${cart.id}}"
                   class="btn btn-danger btn-sm">삭제</a>
            </td>
        </tr>
        </tbody>
    </table>

    <div th:if="${!#lists.isEmpty(cartItems)}" class="d-flex justify-content-between mt-3">
        <a th:href="@{/product}" class="btn btn-secondary">상품 계속 보기</a>
        <a th:href="@{/cart/clear}" class="btn btn-warning">장바구니 비우기</a>
    </div>

</div>

</body>
</html>
