<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head th:replace="fregments/header :: head"></head>

<body>

<th:block th:replace="admin/admin-header :: adminHeader"></th:block>

<div class="container mt-5">

    <div class="d-flex justify-content-between align-items-center mb-3">
        <h2>상품 관리</h2>
        <a href="/admin/products/add" class="btn btn-primary">상품 등록</a>
    </div>

    <table class="table table-hover text-center align-middle">
        <thead class="table-dark">
        <tr>
            <th>ID</th>
            <th>이미지</th>
            <th>상품명</th>
            <th>가격</th>
            <th>재고</th>
            <th>관리</th>
        </tr>
        </thead>

        <tbody>
        <tr th:each="p : ${products}">
            <td th:text="${p.id}"></td>

            <td>
                <img th:src="@{|/img/${p.imageUrl}|}" width="60" class="rounded">
            </td>

            <td th:text="${p.name}"></td>

            <td th:text="|${p.price}원|"></td>

            <td th:text="${p.stock}"></td>

            <td>
                <a th:href="@{'/admin/products/edit/' + ${p.id}}" class="btn btn-sm btn-warning">수정</a>

                <form th:action="@{'/admin/products/delete/' + ${p.id}}"
                      method="post"
                      style="display: inline-block;"
                      onsubmit="return confirm('정말 삭제하시겠습니까?');">
                    <button class="btn btn-sm btn-danger">삭제</button>
                </form>
            </td>
        </tr>
        </tbody>

    </table>
</div>

</body>
</html>
