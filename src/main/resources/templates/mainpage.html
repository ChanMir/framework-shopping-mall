<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>ë©”ì¸ í˜ì´ì§€</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
        body {
            background-color: #f8f9fa;
        }
        .product-card {
            transition: transform .2s;
        }
        .product-card:hover {
            transform: translateY(-5px);
        }
    </style>
</head>

<body>

<!-- âœ” ë„¤ë¹„ê²Œì´ì…˜ë°” -->
<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <div class="container-fluid">
        <a class="navbar-brand" href="/">MY SHOP</a>

        <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                data-bs-target="#navbarNav">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarNav">

            <ul class="navbar-nav me-auto">
                <li class="nav-item">
                    <a class="nav-link" th:href="@{/product}">ìƒí’ˆ ëª©ë¡</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" th:href="@{/cart}">ì¥ë°”êµ¬ë‹ˆ</a>
                </li>
            </ul>

            <ul class="navbar-nav">

                <!-- ğŸ”µ ë¡œê·¸ì¸ ìƒíƒœì¼ ë•Œë§Œ ì¶œë ¥ -->
                <li class="nav-item" th:if="${#authorization.expr('isAuthenticated()')}">
                    <span class="navbar-text text-white me-3">
                        <b th:text="${#authentication.principal.username}"></b> ë‹˜ í™˜ì˜í•©ë‹ˆë‹¤!
                    </span>
                </li>

                <!-- ë¡œê·¸ì•„ì›ƒ -->
                <li class="nav-item" th:if="${#authorization.expr('isAuthenticated()')}">
                    <a class="nav-link" th:href="@{/logout}">ë¡œê·¸ì•„ì›ƒ</a>
                </li>

                <!-- ğŸŸ¡ ë¡œê·¸ì¸í•˜ì§€ ì•Šì•˜ì„ ë•Œë§Œ ì¶œë ¥ -->
                <li class="nav-item" th:if="${#authorization.expr('isAnonymous()')}">
                    <a class="nav-link" th:href="@{/member/login}">ë¡œê·¸ì¸</a>
                </li>
                <li class="nav-item" th:if="${#authorization.expr('isAnonymous()')}">
                    <a class="nav-link" th:href="@{/member/register}">íšŒì›ê°€ì…</a>
                </li>

            </ul>
        </div>
    </div>
</nav>

<div class="container mt-4 mb-5">

    <h2 class="text-center mb-4">ì¶”ì²œ ìƒí’ˆ</h2>

    <div class="row">

        <!-- ìƒí’ˆ ì¹´ë“œ ë°˜ë³µ ì¶œë ¥ -->
        <div class="col-md-3 mb-4" th:each="product : ${products}">
            <div class="card product-card h-100">

                <!-- ì´ë¯¸ì§€ URL ìˆ˜ì • -->
                <img th:src="@{|/img/${product.imageUrl}|}"
                     class="card-img-top" alt="ìƒí’ˆ ì´ë¯¸ì§€">

                <div class="card-body text-center">
                    <h5 class="card-title" th:text="${product.name}">ìƒí’ˆëª…</h5>

                    <!-- BigDecimal price ì¶œë ¥ ë°©ì‹ ìˆ˜ì • -->
                    <p class="card-text fw-bold" th:text="|${product.price}ì›|">10000ì›</p>

                    <!-- ìƒì„¸ë³´ê¸° ë²„íŠ¼ -->
                    <a th:href="@{'/product/' + ${product.id}}"
                       class="btn btn-primary w-100">
                        ìì„¸íˆ ë³´ê¸°
                    </a>
                </div>

            </div>
        </div>

    </div>

</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
